<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <!-- A-Frame core (includes Three.js) -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <!-- AR.js for A-Frame -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  </head>

  <body style="margin:0; overflow:hidden;">
    <!-- Full AR.js configuration with smoothing & high-res source -->
    <a-scene
      embedded
      vr-mode-ui="enabled: false"
      renderer="antialias: true; logarithmicDepthBuffer: true; precision: highp;"
      arjs="
        sourceType: webcam;
        debugUIEnabled: false;
        trackingMethod: best;
        smooth: true;
        smoothCount: 10;
        smoothTolerance: 0.01;
        smoothThreshold: 5;
        sourceWidth: 1280;
        sourceHeight: 960;
        displayWidth: 1280;
        displayHeight: 960;
      "
    >
      <a-assets>
        <!-- Your GLTF model asset -->
        <a-asset-item id="robotModel" src="./assets/flying_robot/scene.gltf"></a-asset-item>
      </a-assets>

      <!-- Hiro marker: all content here follows the markerâ€™s pose -->
      <a-marker preset="hiro">

        <!-- 1. 3D model with built-in fixes & animations -->
        <a-entity
          gltf-model="#robotModel"
          fix-texture-filters
          fix-zfight
          scale="0.3 0.3 0.3"
          rotation="-90 0 0"
          position="0 0 0"
          animation__pts="property: position; from: 3 2 -1; to: -3 2 3; dur: 1000; dir: alternate; loop: true"
          animation__spin="property: rotation; from: -90 0 0; to: 0 360 90; dur: 3000; easing: linear; dir: alternate; loop: true"
        ></a-entity>

        <!-- 2. Text overlays -->
        <a-text
          value="Hi, I'm Kelvin! Nice to meet you!!"
          position="-0.5 0 -1.5"
          rotation="-90 0 0"
          scale="2 2 2"
          side="double"
          align="center"
          font="https://cdn.aframe.io/fonts/Aileron-Semibold.fnt"
          color="black"
        ></a-text>
        <a-text
          value="Click on the buttons :) -->"
          position="-0.5 0 3.2"
          rotation="-90 0 0"
          scale="2 2 2"
          side="double"
          align="center"
          font="https://cdn.aframe.io/fonts/Aileron-Semibold.fnt"
          color="black"
        ></a-text>

        <!-- 3. Interactive buttons -->
        <a-plane
          id="githubBtn"
          class="clickable"
          width="1"
          height="0.3"
          color="#24292e"
          opacity="0.8"
          rotation="-90 0 0"
          position="3 0 1.5"
        ></a-plane>
        <a-text
          value="GitHub"
          side="double"
          align="center"
          color="#fff"
          width="1"
          rotation="-90 0 0"
          scale="4 4 4"
          position="3 0.5 1.5"
        ></a-text>

        <a-plane
          id="emailBtn"
          class="clickable"
          width="1"
          height="0.3"
          color="#c71610"
          opacity="0.8"
          rotation="-90 0 0"
          position="3 0 2"
        ></a-plane>
        <a-text
          value="Email"
          side="double"
          align="center"
          color="#fff"
          width="1"
          rotation="-90 0 0"
          scale="4 4 4"
          position="3 0.5 2"
        ></a-text>

        <a-plane
          id="linkedinBtn"
          class="clickable"
          width="1"
          height="0.3"
          color="#0a66c2"
          opacity="0.8"
          rotation="-90 0 0"
          position="3 0 2.5"
        ></a-plane>
        <a-text
          value="LinkedIn"
          side="double"
          align="center"
          color="#fff"
          width="1"
          rotation="-90 0 0"
          scale="4 4 4"
          position="3 0.5 2.5"
        ></a-text>
      </a-marker>

      <!-- Camera + cursor for clicking -->
      <a-entity camera look-controls>
        <a-cursor raycaster="objects: .clickable" fuse="false"></a-cursor>
      </a-entity>
    </a-scene>

    <!-- Camera-reset script to eliminate AR.js bug jitter :contentReference[oaicite:3]{index=3} -->
    <script>
      document
        .querySelector("a-scene")
        .addEventListener("loaded", function () {
          this.camera = new THREE.PerspectiveCamera();
        });

      document.addEventListener("DOMContentLoaded", () => {
        document.getElementById("githubBtn").addEventListener("click", () => {
          window.open("https://www.github.com/kelviy", "_blank");
        });
        document.getElementById("emailBtn").addEventListener("click", () => {
          window.location.href = "mailto:kelvin.wei@hotmail.com";
        });
        document
          .getElementById("linkedinBtn")
          .addEventListener("click", () => {
            window.open(
              "https://www.linkedin.com/in/kelvin-wei-4b2385227",
              "_blank"
            );
          });
      });
    </script>
  </body>
</html>
