<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <!-- A-Frame core (includes Three.js) -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <!-- AR.js for A-Frame marker tracking -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  </head>

  <body style="margin:0; overflow:hidden;">
    <a-scene
      embedded
      arjs="
        sourceType: webcam;
        debugUIEnabled: false;
        trackingMethod: best;
        smooth: true;            /* enable pose smoothing */
        smoothCount: 100;         /* average last 10 frames */
        smoothTolerance: 5;   /* ignore movement < 1 cm */
        smoothThreshold: 5;      /* require 5 frames before updating */
        sourceWidth: 1280;       /* optional: higherâ€res video */
        sourceHeight: 960;
        displayWidth: 1280;
        displayHeight: 960;
      "
      renderer="antialias: true; precision: highp;"
      vr-mode-ui="enabled: false"
    >
      <a-assets>
        <a-asset-item 
          id="robotModel" 
          src="./assets/flying_robot/scene.gltf">
        </a-asset-item>
      </a-assets>

      <a-marker preset="hiro">
        <!-- 3D model with fixes & smooth animation -->
        <a-entity
          gltf-model="#robotModel"
          fix-texture-filters
          fix-zfight
          scale="0.3 0.3 0.3"
          rotation="-90 0 0"
          position="4 0 0.5"
          animation__pts="property: position; from: 3 2 -1; to: -3 2 3; dur: 1000; dir: alternate; loop: true"
          animation__spin="property: rotation; from: -90 0 0; to: 0 360 90; dur: 3000; easing: linear; dir: alternate; loop: true"
        ></a-entity>

        <!-- Text content -->
        <a-text 
          value="Hi, I'm Kelvin! Nice to meet you!!"
          position="-0.5 0 -1.5"
          rotation="-90 0 0"
          scale="2 2 2"
          side="double"
          align="center"
          font="https://cdn.aframe.io/fonts/Aileron-Semibold.fnt"
          color="black"
        ></a-text>
        <a-text 
          value="Click on the buttons :) -->"
          position="-0.5 0 3.2"
          rotation="-90 0 0"
          scale="2 2 2"
          side="double"
          align="center"
          font="https://cdn.aframe.io/fonts/Aileron-Semibold.fnt"
          color="black"
        ></a-text>

        <!-- GitHub Button -->
        <a-plane
          id="githubBtn"
          class="clickable"
          width="1"
          height="0.3"
          color="#24292e"
          opacity="0.8"
          rotation="-90 0 0"
          position="3 0 1.5"
        ></a-plane>
        <a-text 
          value="GitHub"
          side="double"
          align="center"
          color="#fff"
          width="1"
          rotation="-90 0 0"
          scale="4 4 4"
          position="3 0.5 1.5"
        ></a-text>

        <!-- Email Button -->
        <a-plane
          id="emailBtn"
          class="clickable"
          width="1"
          height="0.3"
          color="#c71610"
          opacity="0.8"
          rotation="-90 0 0"
          position="3 0 2"
        ></a-plane>
        <a-text 
          value="Email"
          side="double"
          align="center"
          color="#fff"
          width="1"
          rotation="-90 0 0"
          scale="4 4 4"
          position="3 0.5 2"
        ></a-text>

        <!-- LinkedIn Button -->
        <a-plane
          id="linkedinBtn"
          class="clickable"
          width="1"
          height="0.3"
          color="#0a66c2"
          opacity="0.8"
          rotation="-90 0 0"
          position="3 0 2.5"
        ></a-plane>
        <a-text 
          value="LinkedIn"
          side="double"
          align="center"
          color="#fff"
          width="1"
          rotation="-90 0 0"
          scale="4 4 4"
          position="3 0.5 2.5"
        ></a-text>
      </a-marker>

      <!-- Camera + click cursor -->
      <a-entity camera look-controls>
        <a-cursor raycaster="objects: .clickable" fuse="false"></a-cursor>
      </a-entity>
    </a-scene>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        document.querySelector('#githubBtn').addEventListener('click', () => {
          window.open('https://www.github.com/kelviy', '_blank');
        });
        document.querySelector('#emailBtn').addEventListener('click', () => {
          window.location.href = 'mailto:kelvin.wei@hotmail.com';
        });
        document.querySelector('#linkedinBtn').addEventListener('click', () => {
          window.open('https://www.linkedin.com/in/kelvin-wei-4b2385227', '_blank');
        });
      });
    </script>
  </body>
</html>
